@use './components/Fade';

@tailwind base;
@tailwind components;
@tailwind utilities;
html {
  @apply flex h-screen w-screen items-center bg-black;
}
body {
  @apply m-auto h-[480px] w-[640px];
}

@media (max-width: 640px) {
  body {
    @apply m-0 h-screen w-screen;
  }
}
#root {
  @apply h-full w-full;
}

@layer utilities {
  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(8px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in {
    animation: fade-in 0.45s ease both;
  }

  /* 전투 화면 애니메이션 */
  @keyframes battle-slide-in {
    from {
      opacity: 0;
      transform: translateX(-20px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes hp-bar-decrease {
    0% {
      width: 100%;
    }
    50% {
      width: 110%;
      background: #ef4444;
    }
    100% {
      width: var(--target-width);
      background: linear-gradient(to right, #ef4444, #f97316);
    }
  }

  @keyframes pulse-glow {
    0%, 100% {
      box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.5);
    }
    50% {
      box-shadow: 0 0 20px 5px rgba(59, 130, 246, 0.3);
    }
  }

  .animate-battle-slide {
    animation: battle-slide-in 0.3s ease-out;
  }

  .hp-bar-damage {
    animation: hp-bar-decrease 0.6s ease-out;
  }

  .pulse-glow {
    animation: pulse-glow 2s infinite;
  }

  /* 커스텀 클래스 */
  .battle-card {
    @apply relative overflow-hidden;
    background: linear-gradient(135deg, rgba(30, 41, 59, 0.5), rgba(15, 23, 42, 0.8));
    backdrop-filter: blur(10px);
  }

  .battle-card::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(45deg, transparent, rgba(255,255,255,0.05), transparent);
    transform: translateX(-100%);
    transition: transform 0.6s;
  }

  .battle-card:hover::before {
    transform: translateX(100%);
  }

  .skill-button {
    @apply relative overflow-hidden;
    transition: all 0.2s ease;
  }

  .skill-button::after {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
    transform: translateX(-100%);
    transition: transform 0.4s;
  }

  .skill-button:hover::after {
    transform: translateX(100%);
  }

  /* 데미지 텍스트 애니메이션 */
  @keyframes damage-float {
    0% {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
    50% {
      opacity: 0.8;
      transform: translateY(-20px) scale(1.2);
    }
    100% {
      opacity: 0;
      transform: translateY(-40px) scale(0.8);
    }
  }

  .damage-text {
    animation: damage-float 1.5s ease-out forwards;
  }

  /* 회복 애니메이션 */
  @keyframes heal-pulse {
    0%, 100% {
      box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.7);
    }
    50% {
      box-shadow: 0 0 20px 10px rgba(34, 197, 94, 0.3);
    }
  }

  .heal-effect {
    animation: heal-pulse 1s ease-in-out;
  }

  /* 방어 효과 */
  @keyframes shield-appear {
    0% {
      opacity: 0;
      transform: scale(0.5);
    }
    100% {
      opacity: 1;
      transform: scale(1);
    }
  }

  .shield-effect {
    animation: shield-appear 0.3s ease-out;
  }

  /* 터미널 커서/푸시 효과 */
  @keyframes terminal-cursor-blink {
    0%, 49% {
      opacity: 1;
    }
    50%, 100% {
      opacity: 0;
    }
  }

  .terminal-cursor {
    display: inline-block;
    margin-left: 2px;
    animation: terminal-cursor-blink 1s step-end infinite;
    color: rgba(52, 211, 153, 0.9);
  }

  @keyframes terminal-push {
    0% {
      transform: translateX(0);
    }
    28% {
      transform: translateX(10px);
    }
    48% {
      transform: translateX(-6px);
    }
    68% {
      transform: translateX(4px);
    }
    100% {
      transform: translateX(0);
    }
  }

  .terminal-push {
    animation: terminal-push 240ms ease-out;
  }

  .hide-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .hide-scrollbar::-webkit-scrollbar {
    display: none;
  }

  @keyframes dialogue-pop {
    from {
      opacity: 0.55;
      transform: translateY(2px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .dialogue-pop {
    display: inline-block;
    animation: dialogue-pop 120ms ease-out;
  }
}
